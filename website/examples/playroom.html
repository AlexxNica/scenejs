<html>

<head>
    <title>SceneJS Live Example</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>

    <link href="../css/style.css" rel="stylesheet" type="text/css"/>
    <link href="../css/layout.css" rel="stylesheet" type="text/css"/>
    <link href="css/style.css" rel="stylesheet" type="text/css"/>

    <script src="../js/jquery-1.3.2.min.js" type="text/javascript"></script>
    <script src="js/codemirror/codemirror.js" type="text/javascript"></script>
    <script src="js/codemirror/mirrorframe.js" type="text/javascript"></script>
    <script src="js/ajax-object.js" type="text/javascript"></script>
    <script src="js/querystring.js" type="text/javascript"></script>
    <script src="js/sandbox.js" type="text/javascript"></script>
    <script src="../downloads/scenejs.0.2.5.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function() {

            /* Get example ID
             */
            String.prototype.trim = function () {
                return this.replace(/^\s*/, '').replace(/\s*$/, '');
            };
            var qs = new Querystring();
            var exampleName = qs.params['example'];
            if (!exampleName) {
                window.location = 'examples.html';
            }

            /* Start playroom controller
             */
            var playroom = new PlayRoomController({
                infoPath: exampleName + '/info.js',
                descriptionPath: exampleName + '/description.html',
                definitionPath: exampleName + '/scene.js',
                descriptionAreaId: 'sandbox-description',
                definitionAreaId: 'definition-text',
                outputAreaId: 'output-area',
                onLoad: { fn  : function() {

                    document.title = "SceneJS Playroom - " + playroom.getInfo().title;

                    $("#toggle-description").click(function () {
                        $("#sandbox-description").slideToggle("slow");
                    });

                    $("#execute-button").click(function() {
                        playroom.execute();
                    });
                    $("#reindent-button").click(function() {
                        playroom.reindent();
                    });
                    $("#reset-button").click(function() {
                        playroom.reset();
                    });
                }, scope: this }
            });
        });
    </script>
</head>

<body id="about">
<div id="main">
    <div id="header">
        <a href="../index.html"><img src="../images/scenejs_small.png" id="logo" alt=""/></a>
        <ul id="menu">
            <li><a href="../downloads/downloads.html"><span><span>Download</span></span></a></li>
            <li id="menu-act"><a href="examples.html"><span><span>Examples</span></span></a></li>
            <li><a href="http://github.com/xeolabs/scenejs/issues"><span><span>Issues</span></span></a></li>
            <li><a href="http://scenejs.bbster.net/"><span><span>Forum</span></span></a></li>
            <li><a href="http://github.com/xeolabs/scenejs"><span><span>Sourcecode</span></span></a></li>
        </ul>
        <div id="headerContent">
            <div id="headerContentContainer">
                <p><span>This is an editable live example from the <a
                        href="examples.html">Examples</a> gallery.
                    Go ahead, edit the source code and re-run it.<br/>Just make sure you don't mess up its <b>canvas</b> node -
                    it needs that in order to render to the WebGL Canvas in this page.</span>
                </p>
            </div>
        </div>
    </div>

    <div id="content">
        <div class="row-1">
            <div class="examples-index">
                <a id="toggle-description">Hide</a>

                <div id="sandbox-description" class="sandbox-description">Loading description...</div>
                <br/>
                <table class="sandbox-main">
                    <tr>
                        <td class="col1">
                            <input class="sandbox-button" id="execute-button" type="button" value="Run"/>
                            <input class="sandbox-button" id="reindent-button" type="button" value="Re-indent"/>
                            <input type="button" id="reset-button" class="sandbox-button" value="Reset"/>

                            <div class="source">
                                <textarea id="definition-text">

                                </textarea>
                            </div>
                        </td>
                        <td class="col2">
                            <div id="output-area">
                                <div class="sandbox-progress">
                                    Loading scene definition...
                                </div>
                            </div>
                            <div class="help">
                                <br/>

                                <div class="what-is-this-heading">Help</div>
                                <p>
                                    <span>This is a live demo of a SceneJS scene graph that you can tweak.</span>
                                </p>
                                <br/>

                                <p><span>Go ahead - type some edits in the scene definition to the left, then
                        <a id="execute-link">run</a> it to
                          see what happens in the canvas above.</span></p>
                                <br/>

                                <p><span>There's just one catch: don't change the definition's SceneJS.canvas element, which
                        locates the canvas by its 'myCanvas' ID.</span></p>
                                <br/>

                                <p><span>If the definition layout gets messy, you can <a
                                        id="reindent-link">re-indent</a> it.</span></p>
                                <br/>

                                <p><span>Start small - maybe just change a few numbers slightly to begin with. If you break the
                        definition completely, you can always <a id="reset-link">reset</a> it.</span>
                                </p>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div id="footer">
            <p><span>&copy; 2009, <a href="http://www.xeolabs.com">XeoLabs</a></span></p>
        </div>
    </div>
</div>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-8036359-2");
        pageTracker._trackPageview();
    } catch(err) {
    }</script>
</body>

</html>
